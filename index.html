<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAP | SVG Animation</title>
    <style>
        body {
            height: 100%;
            margin: 0;
            overflow-x: hidden;
        }

        .section {
            height: 100vh;
        }

        h2 {
            hidden: true;
            font-weight: 600;
            font-size: 40vw;
            position: relative;
            padding: 0;
            margin: 0;
        }
    </style>
</head>

<body>
    <div class="section" id="page0" style="background-color: lightcoral;">
    </div>
    <div class="section" id="page1" style="background-color: lightseagreen;">
    </div>
    <div class="section" id="page2" style="background-color: lightsteelblue;">
    </div>
    <div class="section" id="page3" style="background-color: lightblue;">
    </div>
    <div class="section" id="page4" style="background-color: lightpink;">
    </div>
    <div class="section" id="page5" style="background-color: lightslategrey;">
    </div>
    <div class="section" id="page6" style="background-color: lightsalmon;">
    </div>

    <svg version="1.1" id="transring" viewBox="0 0 414 414"
        style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); enable-background:new 0 0 414 414; background-color: transparent"
        xml:space="preserve">

        <path id="Transparent_Ring" class="transrg"
            style="opacity:0.4;fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;enable-background:new" d="M84.2,85c31.3-31.5,74.7-51,122.7-51c95.5,0,173,77.5,173,173s-77.5,173-173,173
      c-47.8,0-91-19.4-122.3-50.7"></path>

        <path id="Opaque_Ring" class="transrgwht" stoke-dashoffset="800"
            style="fill: none; stroke: rgb(255, 255, 255); stroke-width: 2; stroke-miterlimit: 10; stroke-dasharray: 800, 1000; stroke-dashoffset: 800;"
            d="M84.2,85c31.3-31.5,74.7-51,122.7-51c95.5,0,173,77.5,173,173s-77.5,173-173,173
      c-47.8,0-91-19.4-122.3-50.7"></path>

        <g id="Dots1" class="dots-nav">
            <g>
                <path class="dotsst dotsfill1" style="fill: rgb(0, 146, 255); opacity: 1;"
                    d="M84,80 c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6 S 87, 80, 84,80 z"></path>
            </g>
            <g>
                <path class="dotsstro1"
                    style="opacity: 1; fill: none; stroke: rgb(255, 255, 255); stroke-width: 2; stroke-miterlimit: 10;"
                    d="M84,80c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6 S 87, 80, 84,80 z"></path>
            </g>
        </g>
        <g id="Dots2" class="dots-nav">
            <g>
                <path class="dotsst dotsfill2" style="fill: transparent; opacity: 0;"
                    d="M206.8,29c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6S 210.1,29, 206.8,29 z M206.8"></path>
            </g>
            <g>
                <path class="dotsstro2"
                    style="opacity: 1; fill: none; stroke: rgb(255, 255, 255); stroke-width: 2; stroke-miterlimit: 10;"
                    d="M206.8,29c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6S 210.1,29, 206.8,29 z M206.8"></path>
            </g>
        </g>
        <g id="Dots3" class="dots-nav">
            <g>
                <path class="dotsst dotsfill3" style="fill: transparent; opacity: 0;"
                    d="M332,85 c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6 S 335,85, 332,85 z M332"></path>
            </g>
            <g>
                <path class="dotsstro3"
                    style="opacity: 1; fill: none; stroke: rgb(255, 255, 255); stroke-width: 2; stroke-miterlimit: 10;"
                    d="M332,85 c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6 S 335,85, 332,85 z M332"></path>
            </g>
        </g>
        <g id="Dots4" class="dots-nav">
            <g>
                <path class="dotsst dotsfill4" style="fill: transparent; opacity: 0;"
                    d="M380,205 c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6 S 383,205, 380,205 z M380"></path>
            </g>
            <g>
                <path class="dotsstro4"
                    style="opacity: 1; fill: none; stroke: rgb(255, 255, 255); stroke-width: 2; stroke-miterlimit: 10;"
                    d="M380,205 c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6 S 383,205, 380,205 z M380"></path>
            </g>
        </g>
        <g id="Dots5" class="dots-nav">
            <g>
                <path class="dotsst dotsfill5" style="fill: transparent; opacity: 0;"
                    d="M335,315 c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6 S 340,315, 335,315 z M335"></path>
            </g>
            <g>
                <path class="dotsstro5"
                    style="opacity: 1; fill: none; stroke: rgb(255, 255, 255); stroke-width: 2; stroke-miterlimit: 10;"
                    d="M335,315 c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6 S 340,315, 335,315 z M335"></path>
            </g>
        </g>
        <g id="Dots6" class="dots-nav">
            <g>
                <path class="dotsst dotsfill6" style="fill: transparent; opacity: 0;"
                    d="M210,375 c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6 S 215,375, 210,375 z M210"></path>
            </g>
            <g>
                <path class="dotsstro6"
                    style="opacity: 1; fill: none; stroke: rgb(255, 255, 255); stroke-width: 2; stroke-miterlimit: 10;"
                    d="M210,375 c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6 S 215,375, 210,375 z M210"></path>
            </g>
        </g>
        <g id="Dots7" class="dots-nav">
            <g>
                <path class="dotsst dotsfill7" style="fill: transparent; opacity: 0;"
                    d="M88,324 c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6 S 92,324, 88,324 z M88"></path>
            </g>
            <g>
                <path class="dotsstro7"
                    style="opacity: 1; fill: none; stroke: rgb(255, 255, 255); stroke-width: 2; stroke-miterlimit: 10;"
                    d="M88,324 c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6 -6 S 92,324, 88,324 z M88"></path>
            </g>
        </g>
    </svg>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.2/ScrollTrigger.min.js"></script>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        const path = document.getElementById('Opaque_Ring');
        const pathLength = path.getTotalLength();
        path.style.strokeDasharray = pathLength;
        path.style.strokeDashoffset = pathLength;

        const tl = gsap.timeline();
        tl.to(path, {
            ease: "none",
            strokeDashoffset: 0,
            markers: true,
            scrollTrigger: {
                trigger: "body",
                start: "top top",
                end: "bottom bottom",
                markers: true,
                scrub: true
            }
        });

        const dots = [
            document.querySelector('.dotsfill1'),
            document.querySelector('.dotsfill2'),
            document.querySelector('.dotsfill3'),
            document.querySelector('.dotsfill4'),
            document.querySelector('.dotsfill5'),
            document.querySelector('.dotsfill6'),
            document.querySelector('.dotsfill7')
        ];

        const dotsTl = gsap.timeline();
        dots.forEach((dot, index) => {
            dotsTl.to(dot, {
                fill: 'rgb(0, 146, 255)',
                duration: 0.5,
                ease: "power4.in",
                opacity: 1,
                scrollTrigger: {
                    trigger: `#page${index}`,
                    start: "top top",
                    end: "bottom bottom",
                    scrub: true,
                    pin: true,
                }
            });
        });

        // const pages = [
        //     document.querySelector('#page1'),
        //     document.querySelector('#page2'),
        //     document.querySelector('#page3'),
        //     document.querySelector('#page4'),
        //     document.querySelector('#page5'),
        //     document.querySelector('#page6'),
        // ];
        //
        // pages.forEach((page, index) => {
        //     gsap.from(page, {
        //         opacity: 0,
        //         duration: 0.5,
        //         ease: "expo.in",
        //         scrollTrigger: {
        //             trigger: page,
        //             scroller: "body",
        //             start: "top top",
        //             end: "bottom bottom",
        //             scrub: 2,
        //         }
        //     });
        // });

        // const dots = [
        //     document.querySelector('.dotsfill2'),
        //     document.querySelector('.dotsfill3'),
        //     document.querySelector('.dotsfill4'),
        //     document.querySelector('.dotsfill5'),
        //     document.querySelector('.dotsfill6'),
        //     document.querySelector('.dotsfill7')
        // ];
        //
        // dots.forEach((dot, index) => {
        //     gsap.to(dot, {
        //         fill: 'rgb(0, 146, 255)',
        //         opacity: 1,
        //         scrollTrigger: {
        //             trigger: `#page${index + 1}`,
        //             start: "top 50%",
        //             end: "top 30%",
        //             scrub: true,
        //         }
        //     });
        // });

    </script>
</body>

</html>
